
<br /><br />
<div id="map"></div>

<div id="view-content">

<p>
    <?php
    echo $this->city_desc;
    echo "<a href='/city/addpost/city_id/{$this->city_id}'></a>"
    ?>

    <?php
    echo "<br>";

    foreach ($this->paginator as $key => $val)
    {
        echo $val['title'];
        echo "<br>";
        $subPost=substr($val['content'],0,50);
        echo $subPost."...";
        echo "<br>";
//        echo $val['content'];
        echo "<a href='/city/post/post_id/{$val["id"]}'>See more</a>";
    }
    echo $this->paginator;
    ?>

</p>
</div>


<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>

<script>

    function initMap() {
        var mapDiv = document.getElementById('map');
        var map = new google.maps.Map(mapDiv,{
            center: {lat:<?php echo $this->city_lat?>  , lng:  <?php echo $this->city_long?>},
            zoom: 11
        });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8qj-3E6nRcvPyJP9DwpAZ3Xr_iSq_ot8&callback=initMap" async defer></script>